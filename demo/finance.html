<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Sphere - My42</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/demo.css">
</head>
<body>
    <div class="cosmic-bg"></div>

    <!-- App Header -->
    <header class="app-header">
        <div class="app-header-container">
            <a href="../index.html" class="app-header-logo">my42</a>

            <div class="app-header-nav-container">
                <a href="life.html" class="app-header-link">Life</a>
                <a href="goals.html" class="app-header-link">Goals</a>
                <a href="sprints.html" class="app-header-link">Sprints</a>
            </div>

            <div class="app-header-right">
                <button class="app-header-menu-toggle">Menu</button>
                <a href="settings.html" class="app-header-settings">Settings</a>
            </div>
        </div>
    </header>

    <div class="container" style="margin-top: 7rem; max-width: 1100px;">

        <!-- TOP: Finance Dashboard -->
        <section style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid rgba(255,255,255,0.1);">

            <div style="text-align: center; margin-bottom: 2rem;">
                <h1 style="font-size: 2rem; margin-bottom: 0.5rem;">Finance</h1>
                <p style="color: #808080; font-size: 0.95rem;">Agent: Argentum</p>
            </div>

            <!-- Finance Score + Primary KPIs -->
            <div style="display: grid; grid-template-columns: 200px 1fr; gap: 2rem; margin-bottom: 2rem;">

                <!-- Finance Score Circle (secondary) -->
                <div style="display: flex; justify-content: center; align-items: center;">
                    <svg width="160" height="160" viewBox="0 0 160 160">
                        <defs>
                            <linearGradient id="financeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FBBF24;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="80" cy="80" r="60" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="12"/>
                        <circle cx="80" cy="80" r="60" fill="none"
                                stroke="url(#financeGradient)"
                                stroke-width="12"
                                stroke-dasharray="377"
                                stroke-dashoffset="105.6"
                                stroke-linecap="round"
                                transform="rotate(-90 80 80)"/>
                        <text x="80" y="75" text-anchor="middle" fill="#ffffff" font-size="38" font-weight="900">72</text>
                        <text x="80" y="95" text-anchor="middle" fill="#F59E0B" font-size="13" font-weight="600">▼ -3</text>
                    </svg>
                </div>

                <!-- Primary KPIs -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">

                    <!-- Net Worth (biggest) -->
                    <div style="grid-column: 1 / -1; padding: 1.5rem; background: rgba(245, 158, 11, 0.05); border-left: 3px solid #F59E0B; border-radius: 8px;">
                        <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.5rem;">Net Worth</p>
                        <p style="font-size: 2.5rem; font-weight: 900; color: #F59E0B; margin: 0; line-height: 1;">€42,140</p>
                        <p style="font-size: 0.9rem; color: #10B981; margin-top: 0.5rem;">+€2,340 MTD</p>
                    </div>

                    <!-- Liquid Balance -->
                    <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-radius: 8px;">
                        <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.5rem;">Liquid Balance</p>
                        <p style="font-size: 1.8rem; font-weight: 700; color: #e0e0e0; margin: 0;">€8,450</p>
                        <p style="font-size: 0.85rem; color: #808080; margin-top: 0.25rem;">Cash + checking</p>
                    </div>

                    <!-- Cashflow MTD -->
                    <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-radius: 8px;">
                        <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.5rem;">Cashflow MTD</p>
                        <p style="font-size: 1.8rem; font-weight: 700; color: #EF4444; margin: 0;">-€340</p>
                        <p style="font-size: 0.85rem; color: #808080; margin-top: 0.25rem;">€5,340 in / €5,680 out</p>
                    </div>

                    <!-- Savings Rate -->
                    <div style="grid-column: 1 / -1; padding: 1rem; background: rgba(255,255,255,0.02); border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.25rem;">Savings Rate MTD</p>
                            <p style="font-size: 1.5rem; font-weight: 700; color: #F59E0B; margin: 0;">23%</p>
                        </div>
                        <div style="width: 200px; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                            <div style="width: 23%; height: 100%; background: linear-gradient(90deg, #F59E0B, #FBBF24); border-radius: 4px;"></div>
                        </div>
                        <p style="font-size: 0.85rem; color: #808080;">Target: 30%</p>
                    </div>
                </div>
            </div>

            <!-- 7-Day Spending Trend -->
            <div style="background: rgba(255,255,255,0.02); border-radius: 8px; padding: 1.5rem;">
                <p style="font-size: 0.85rem; color: #808080; margin-bottom: 1rem;">7-Day Daily Spending</p>
                <svg width="100%" height="100" viewBox="0 0 350 100" style="overflow: visible;">
                    <defs>
                        <linearGradient id="spendingLineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:0.5" />
                            <stop offset="100%" style="stop-color:#F59E0B;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <!-- Bars for daily spending -->
                    <rect x="10" y="30" width="35" height="40" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="60" y="45" width="35" height="25" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="110" y="20" width="35" height="50" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="160" y="35" width="35" height="35" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="210" y="50" width="35" height="20" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="260" y="25" width="35" height="45" fill="rgba(245, 158, 11, 0.3)" rx="2"/>
                    <rect x="310" y="10" width="35" height="60" fill="rgba(239, 68, 68, 0.4)" rx="2"/>
                    <!-- Labels -->
                    <text x="27" y="85" fill="#808080" font-size="10" text-anchor="middle">Mon</text>
                    <text x="77" y="85" fill="#808080" font-size="10" text-anchor="middle">Tue</text>
                    <text x="127" y="85" fill="#808080" font-size="10" text-anchor="middle">Wed</text>
                    <text x="177" y="85" fill="#808080" font-size="10" text-anchor="middle">Thu</text>
                    <text x="227" y="85" fill="#808080" font-size="10" text-anchor="middle">Fri</text>
                    <text x="277" y="85" fill="#808080" font-size="10" text-anchor="middle">Sat</text>
                    <text x="327" y="85" fill="#808080" font-size="10" text-anchor="middle">Sun</text>
                </svg>
                <p style="font-size: 0.85rem; color: #EF4444; margin-top: 0.5rem;">Sunday spike: €340 (restaurants + entertainment)</p>
            </div>
        </section>

        <!-- SECTION: Contribution to Life Score -->
        <section style="margin-bottom: 3rem; padding: 1.5rem; background: rgba(245, 158, 11, 0.05); border-left: 3px solid #F59E0B; border-radius: 8px;">
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: #F59E0B;">Impact on Life Score</h3>
            <p style="color: #a0a0a0; margin-bottom: 0.75rem; font-size: 0.95rem;">
                <strong style="color: #F59E0B;">Medium Impact Sphere</strong> — Finance is weighted at 18% of your Life Score.
            </p>
            <p style="color: #a0a0a0; margin-bottom: 0.75rem; font-size: 0.95rem;">
                <strong>Sensitivity:</strong> +10 Finance stability → +1.8 Life Score
            </p>
            <p style="color: #F59E0B; font-weight: 600; font-size: 0.95rem; margin-bottom: 1.5rem;">
                Current role: <strong>Active drag</strong> — Negative cashflow and missed savings target reducing Life Score by ~0.5 points
            </p>

            <!-- Mini explainable insight -->
            <div style="background: rgba(255,255,255,0.02); border-radius: 8px; padding: 1.25rem; margin-top: 1rem;">
                <h4 style="color: #e0e0e0; margin-bottom: 0.75rem; font-size: 1rem;">Why Finance score declined</h4>
                <p style="color: #a0a0a0; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <strong style="color: #e0e0e0;">Trigger:</strong> Spending exceeded income MTD by €340. Savings rate 23% vs 30% target.
                </p>
                <p style="color: #a0a0a0; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <strong style="color: #e0e0e0;">Evidence:</strong> Restaurant spending +€180 vs last month. 2 unexpected purchases (€160 total). Income unchanged at €5,340.
                </p>
                <p style="color: #a0a0a0; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <strong style="color: #e0e0e0;">Interpretation:</strong> Discretionary spending drift. No emergency or justified variance. Pattern forming.
                </p>
                <p style="color: #F59E0B; font-weight: 600; font-size: 0.9rem;">
                    → Suggested action: Set €150/week discretionary cap for next 4 weeks OR reduce restaurant budget by €50/week.
                </p>
            </div>
        </section>

        <!-- SECTION: Insights -->
        <section style="margin-bottom: 3rem;">
            <h2 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Insights</h2>

            <div style="display: grid; gap: 1rem;">

                <!-- Insight 1: Spending anomaly -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #EF4444; border-radius: 8px;">
                    <h4 style="color: #EF4444; margin-bottom: 0.5rem; font-size: 1rem;">Weekend spending spike detected</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        Saturday + Sunday: €485 vs €120 avg weekday. Restaurants €240, Entertainment €180, Transport €65.
                    </p>
                    <p style="color: #F59E0B; font-size: 0.85rem; font-weight: 600;">→ Consider: pre-set weekend budget OR plan 1 stay-home weekend/month</p>
                </div>

                <!-- Insight 2: Subscriptions -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #F59E0B; border-radius: 8px;">
                    <h4 style="color: #F59E0B; margin-bottom: 0.5rem; font-size: 1rem;">8 active subscriptions: €147/month</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        Netflix €14, Spotify €10, ChatGPT Plus €20, iCloud €3, Gym €45, Amazon Prime €8, NYT €17, Medium €5. 3 unused in last 30 days.
                    </p>
                    <p style="color: #F59E0B; font-size: 0.85rem; font-weight: 600;">→ Review: Medium, Amazon Prime, NYT (unused). Potential save: €30/month</p>
                </div>

                <!-- Insight 3: Discretionary drift -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #F59E0B; border-radius: 8px;">
                    <h4 style="color: #F59E0B; margin-bottom: 0.5rem; font-size: 1rem;">Discretionary spending +34% vs 3-month avg</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        MTD discretionary: €1,240 vs €920 avg. Main drivers: dining out (€520), gadgets (€160), clothing (€140). No major event justification.
                    </p>
                    <p style="color: #F59E0B; font-size: 0.85rem; font-weight: 600;">→ Action: Set Revolut spending limit €150/week OR track discretionary daily for 14 days</p>
                </div>

                <!-- Insight 4: Income stability -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #10B981; border-radius: 8px;">
                    <h4 style="color: #10B981; margin-bottom: 0.5rem; font-size: 1rem;">Income stable: 6-month consistency</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        €5,340 monthly (±2% variance). Consulting contracts renewed. No volatility risk. Strong foundation for savings plan.
                    </p>
                    <p style="color: #10B981; font-size: 0.85rem; font-weight: 600;">→ Opportunity: Income stable, focus on expense control to hit 30% savings rate</p>
                </div>

                <!-- Insight 5: Budget mismatch -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #F59E0B; border-radius: 8px;">
                    <h4 style="color: #F59E0B; margin-bottom: 0.5rem; font-size: 1rem;">Budget vs actual: 3 categories over target</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        Dining: €520 vs €350 target (+49%). Entertainment: €280 vs €200 (+40%). Transport: €180 vs €150 (+20%). Housing, utilities on target.
                    </p>
                    <p style="color: #F59E0B; font-size: 0.85rem; font-weight: 600;">→ Suggested: Tighten dining + entertainment for next 2 weeks to compensate</p>
                </div>

                <!-- Insight 6: Net worth trajectory -->
                <div style="padding: 1.25rem; background: rgba(255,255,255,0.02); border-left: 3px solid #10B981; border-radius: 8px;">
                    <h4 style="color: #10B981; margin-bottom: 0.5rem; font-size: 1rem;">Net worth on track: €50k goal achievable</h4>
                    <p style="color: #a0a0a0; font-size: 0.9rem; margin-bottom: 0.5rem;">
                        Current: €42,140. Target: €50k. Gap: €7,860. Monthly growth avg: €1,240. Timeline: 6.3 months at current rate (July target achievable).
                    </p>
                    <p style="color: #10B981; font-size: 0.85rem; font-weight: 600;">→ Priority: Maintain income, control spending to preserve trajectory</p>
                </div>
            </div>
        </section>

        <!-- SECTION: Today Actions -->
        <section style="margin-bottom: 3rem;">
            <h2 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Today</h2>

            <div class="task-list">
                <div class="task-row">
                    <input type="checkbox">
                    <span class="task-text">Review daily spending — 5 min check (routine)</span>
                    <span class="task-tag task-tag-finance">Daily</span>
                </div>
                <div class="task-row">
                    <input type="checkbox">
                    <span class="task-text">Pause 1 subscription — Cancel Medium or Amazon Prime (unused)</span>
                    <span class="task-tag task-tag-finance">Action</span>
                </div>
                <div class="task-row">
                    <input type="checkbox">
                    <span class="task-text">Set discretionary cap — €150/week limit in Revolut</span>
                    <span class="task-tag task-tag-finance">Action</span>
                </div>
            </div>
        </section>

        <!-- NAV LINKS: Deep Dives -->
        <section style="margin-bottom: 3rem;">
            <h2 style="font-size: 1.5rem; margin-bottom: 1.5rem;">Explore Finance</h2>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                <a href="finance-networth.html" class="card" style="text-decoration: none; color: inherit; background: rgba(245, 158, 11, 0.05); border: 1px solid rgba(245, 158, 11, 0.2);">
                    <h4 style="color: #F59E0B; margin-bottom: 0.5rem;">Net Worth & Accounts</h4>
                    <p style="font-size: 0.9rem; color: #a0a0a0;">€42,140 across 6 accounts</p>
                </a>
                <a href="finance-transactions.html" class="card" style="text-decoration: none; color: inherit; background: rgba(245, 158, 11, 0.05); border: 1px solid rgba(245, 158, 11, 0.2);">
                    <h4 style="color: #F59E0B; margin-bottom: 0.5rem;">Transactions & Categories</h4>
                    <p style="font-size: 0.9rem; color: #a0a0a0;">127 transactions MTD</p>
                </a>
            </div>
        </section>

        <!-- Agent Dialog -->
        <section style="margin-bottom: 4rem; padding: 1.5rem; background: rgba(255,255,255,0.02); border-radius: 8px;">
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem; color: #F59E0B;">Argentum (Finance Agent)</h3>

            <div style="margin-bottom: 1rem;">
                <div style="padding: 0.75rem; background: rgba(245, 158, 11, 0.1); border-radius: 6px; margin-bottom: 0.5rem;">
                    <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.25rem;">2 hours ago</p>
                    <p style="font-size: 0.95rem; color: #e0e0e0;">Cashflow red. €340 over budget MTD. Dining €520 vs €350 target. 3 unused subscriptions draining €30/month. ONE ACTION: pause 1 subscription today.</p>
                </div>
                <div style="padding: 0.75rem; background: rgba(245, 158, 11, 0.1); border-radius: 6px; margin-bottom: 0.5rem;">
                    <p style="font-size: 0.85rem; color: #808080; margin-bottom: 0.25rem;">Yesterday</p>
                    <p style="font-size: 0.95rem; color: #e0e0e0;">Weekend spending spike: €485. Pattern forming (3 weekends). Suggest: pre-set €200 weekend budget via Revolut limit.</p>
                </div>
            </div>

            <input type="text" placeholder="Ask Argentum anything..." style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #e0e0e0; margin-bottom: 1rem; font-family: inherit;">

            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <button style="padding: 0.5rem 1rem; background: rgba(245, 158, 11, 0.2); border: 1px solid #F59E0B; border-radius: 6px; color: #F59E0B; cursor: pointer; font-size: 0.85rem;">Explain overspend</button>
                <button style="padding: 0.5rem 1rem; background: rgba(245, 158, 11, 0.2); border: 1px solid #F59E0B; border-radius: 6px; color: #F59E0B; cursor: pointer; font-size: 0.85rem;">Show budget plan</button>
                <button style="padding: 0.5rem 1rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: #808080; cursor: pointer; font-size: 0.85rem;">Snooze</button>
            </div>
        </section>

    </div>
    <script src="../js/tasks.js"></script>
</body>
</html>
